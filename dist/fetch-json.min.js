//! fetch-json v2.6.0 ~ github.com/center-key/fetch-json ~ MIT License
function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var fetchJson={version:"2.6.0",baseOptions:{},getBaseOptions:function getBaseOptions(){return this.baseOptions},setBaseOptions:function setBaseOptions(a){return this.baseOptions=a,this.baseOptions},request:function request(a,b,c,d){var e=this,f=_objectSpread(_objectSpread(_objectSpread({},{method:a,credentials:"same-origin",strictErrors:!1}),this.baseOptions),d);f.method=f.method.toUpperCase();var g="GET"===f.method,h={Accept:"application/json"};!g&&c&&(h["Content-Type"]="application/json"),f.headers=_objectSpread(_objectSpread({},h),f.headers);var i=g&&c?Object.keys(c):[];i.length&&(b=b+(b.includes("?")?"&":"?")+i.map(function toPair(a){return a+"="+encodeURIComponent(c?c[a]:"")}).join("&")),f.body=!g&&c?JSON.stringify(c):null;var j=function(){return new Date().toISOString()},k=b.replace(/[?].*/,""),l=k.replace(/.*:[/][/]/,"").replace(/[:/].*/,"");this.logger&&this.logger(j(),"request",f.method,l,k);var m=JSON.parse(JSON.stringify(f));return fetch(b,m).then(function toJson(a){var b=a,c=b.headers.get("content-type"),d=!!c&&/json|javascript/.test(c);if(e.logger&&e.logger(j(),"response",f.method,l,k,b.ok,b.status,b.statusText,c),f.strictErrors&&!b.ok)throw Error("HTTP response status (\"strictErrors\" mode enabled): "+b.status);return d?b.json():b.text().then(function textToObj(a){return{ok:b.ok,error:!b.ok,status:b.status,contentType:c,bodyText:a,response:b}})})},get:function get(a,b,c){return this.request("GET",a,b,c)},post:function post(a,b,c){return this.request("POST",a,b,c)},put:function put(a,b,c){return this.request("PUT",a,b,c)},patch:function patch(a,b,c){return this.request("PATCH",a,b,c)},delete:function _delete(a,b,c){return this.request("DELETE",a,b,c)},logger:null,getLogHeaders:function getLogHeaders(){return["Timestamp","HTTP","Method","Domain","URL","Ok","Status","Text","Type"]},getLogHeaderIndex:function getLogHeaderIndex(){return{timestamp:0,http:1,method:2,domain:3,url:4,ok:5,status:6,text:7,type:8}},enableLogger:function enableLogger(a){var b=!1===a?null:console.log;return this.logger="function"==typeof a?a:b}},FetchJson=function a(b){_classCallCheck(this,a),this.fetchJson=_objectSpread({},fetchJson),this.fetchJson.setBaseOptions(b||{})};"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(window.fetchJson=fetchJson,window.FetchJson=FetchJson);
