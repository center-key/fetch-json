//! fetch-json v0.3.1
//! MIT License -- https://github.com/center-key/fetch-json
function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var fetch="object"===("undefined"==typeof window?"undefined":_typeof(window))?window.fetch:require("node-fetch"),fetchJson={version:"0.3.1",request:function f(a,b,c,d){var e={method:a.toUpperCase(),credentials:"same-origin"};d=Object.assign(e,d);return d.headers=Object.assign({"Content-Type":"application/json",Accept:"application/json"},d.headers),"GET"===d.method&&c?b=b+(b.includes("?")?"&":"?")+Object.keys(c).map(function(a){return a+"="+encodeURIComponent(c[a])}).join("&"):"GET"!==d.method&&c&&(d.body=JSON.stringify(c)),fetchJson.logger&&fetchJson.logger(new Date().toISOString(),d.method,b),fetch(b,d).then(function(a){function b(b){return fetchJson.logger&&fetchJson.logger(new Date().toISOString(),d.method,a.url,a.ok,a.status,a.statusText,c),a.error=!a.ok,a.contentType=c,a.bodyText=b,a}var c=a.headers.get("content-type"),e=/json|javascript/.test(c);return e?a.json():a.text().then(b)})},get:function d(a,b,c){return fetchJson.request("GET",a,b,c)},post:function d(a,b,c){return fetchJson.request("POST",a,b,c)},put:function d(a,b,c){return fetchJson.request("PUT",a,b,c)},patch:function d(a,b,c){return fetchJson.request("PATCH",a,b,c)},delete:function d(a,b,c){return fetchJson.request("DELETE",a,b,c)},logger:null,enableLogger:function b(a){return fetchJson.logger="function"==typeof a?a:!1===a?null:console.log,fetchJson.logger}};"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=fetchJson:"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(window.fetchJson=fetchJson);